(()=>{if(!("serviceWorker"in navigator))return;const t="/sw.js",i=500,n=3e4,e="sw-notification-out 0.5s cubic-bezier(0.34, 1.56, 0.64, 1) forwards",o=document.getElementById("sw-update-popup");if(!o)return;const s=t=>Object.assign(o.style,t),a=t=>{t?(s({visibility:"visible",pointerEvents:"auto"}),o.classList.add("show"),setTimeout(()=>a(!1),n)):(o.style.animation=e,o.classList.remove("show"),setTimeout(()=>{o.classList.contains("show")||s({pointerEvents:"none",visibility:"hidden",animation:""})},i))};document.addEventListener("DOMContentLoaded",()=>{o.classList.contains("show")||s({pointerEvents:"none",visibility:"hidden"}),o.querySelector(".close-btn")?.addEventListener("click",()=>a(!1))}),(async()=>{try{const i=await navigator.serviceWorker.register(t,{scope:"/",updateViaCache:"none"}),n=()=>{i.waiting&&navigator.serviceWorker.controller&&a(!0)};i.addEventListener("updatefound",()=>{i.installing?.addEventListener("statechange",function(){"installed"===this.state&&navigator.serviceWorker.controller&&n()})}),n()}catch(t){}})()})();